import java.io.ByteArrayOutputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.zip.ZipEntry;
import java.util.zip.ZipInputStream;

public class DownloadRepo {

    private static final String DOWNLOAD_URL = "https://github.com/<ORG_NAME>/<REPO_NAME>.zip"; // Replace with your download URL

    public static void main(String[] args) throws IOException, InterruptedException {

        String fileName = DOWNLOAD_URL.substring(DOWNLOAD_URL.lastIndexOf("/") + 1);
        Path downloadPath = Paths.get("downloads", fileName);

        try (HttpClient client = HttpClient.newHttpClient()) {
            HttpRequest request = HttpRequest.newBuilder()
                .GET()
                .uri(URI.create(DOWNLOAD_URL))
                .build();

            HttpResponse<ByteArrayOutputStream> response = client.send(request, HttpResponse.BodyHandlers.ofByteArraySupplier());

            if (response.statusCode() == 200) {
                Files.createDirectories(downloadPath.getParent()); // Create download directory if it doesn't exist
                Files.write(downloadPath, response.body().toByteArray());
                System.out.println("Downloaded archive: " + downloadPath);
            } else {
                System.err.println("Failed to download archive. Status code: " + response.statusCode());
            }
        }
    }
}
